Users
---------
user_id         INT PRIMARY KEY AUTO_INCREMENT
github_username VARCHAR(100) UNIQUE NOT NULL  -- GitHub handle
github_email    VARCHAR(255)                  -- GitHub email
timezone        VARCHAR(50)                   -- e.g., 'America/New_York'
reminder_time   TIME                           -- time of day to send notification
score           INT DEFAULT 0                 -- cumulative score
created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP
updated_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

Projects
---------
project_id      INT PRIMARY KEY AUTO_INCREMENT
user_id         INT NOT NULL                  -- FK to Users.user_id
repo_name       VARCHAR(255) NOT NULL        -- repository name
github_repo_id  BIGINT                        -- GitHub repo ID (optional but good for API calls)
webhook_url     VARCHAR(255)                  -- webhook to notify your system
score_per_commit INT DEFAULT 1               -- how many points per commit
created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP
updated_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

-- Foreign Key
FOREIGN KEY (user_id) REFERENCES Users(user_id) ON DELETE CASCADE

DailyCommits
------------
daily_id        INT PRIMARY KEY AUTO_INCREMENT
user_id         INT NOT NULL                  -- FK to Users.user_id
project_id      INT NOT NULL                  -- FK to Projects.project_id
date            DATE NOT NULL
commit_count    INT DEFAULT 0

-- Foreign Keys
FOREIGN KEY (user_id) REFERENCES Users(user_id) ON DELETE CASCADE
FOREIGN KEY (project_id) REFERENCES Projects(project_id) ON DELETE CASCADE

Notifications
-------------
notification_id  INT PRIMARY KEY AUTO_INCREMENT
user_id          INT NOT NULL                  -- FK to Users.user_id
project_id       INT NULL                       -- Optional, for project-specific reminders
type             VARCHAR(50)                   -- e.g., 'daily_reminder', 'score_update'
status           VARCHAR(20) DEFAULT 'pending' -- pending, sent, failed
sent_at          TIMESTAMP NULL
created_at       TIMESTAMP DEFAULT CURRENT_TIMESTAMP

-- Foreign Keys
FOREIGN KEY (user_id) REFERENCES Users(user_id) ON DELETE CASCADE
FOREIGN KEY (project_id) REFERENCES Projects(project_id) ON DELETE SET NULL

ScoreHistory
------------
history_id      INT PRIMARY KEY AUTO_INCREMENT
user_id         INT NOT NULL
project_id      INT NULL
score_change    INT NOT NULL
reason          VARCHAR(255)                  -- e.g., 'commit', 'manual adjustment'
created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP

FOREIGN KEY (user_id) REFERENCES Users(user_id)
FOREIGN KEY (project_id) REFERENCES Projects(project_id)

